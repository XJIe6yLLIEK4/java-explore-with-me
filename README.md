# ExploreWithMe — обзор и архитектура

## 1) Описание проекта
**ExploreWithMe** — бэкенд‑платформа для публикации и поиска событий (ивентов) и ведения статистики просмотров. Репозиторий содержит два сервиса и инфраструктуру для локального запуска.

- `ewm-main-service` — основной домен (события, категории/подборки и т. п.).
- `stats` — сервис сбора статистики (запись хитов и агрегация просмотров).
- В корне есть `docker-compose.yml` для совместного запуска сервисов и инфраструктуры.
- В репозитории присутствуют спецификации API: `ewm-main-service-spec.json` и `ewm-stats-service-spec.json` (OpenAPI/Swagger).

## 2) Ключевые возможности
- Публичное REST‑API для просмотра событий.
- Приватное API для авторизованных пользователей (создание/редактирование своих событий, участие и т. п.).
- Админ‑API для модерирования.
- Отдельный сервис статистики для записи «хитов» и получения агрегированных просмотров.
- Контроль качества кода (Checkstyle, suppressions).

## 3) Архитектура на уровне репозитория
Моно‑репозиторий с двумя независимыми сервисами (main + stats), которые взаимодействуют по HTTP через REST. Структура верхнего уровня:
```
.
├── ewm-main-service/        # основной сервис домена
├── stats/                   # сервис статистики
├── docker-compose.yml       # оркестрация локального запуска
├── ewm-main-service-spec.json
├── ewm-stats-service-spec.json
├── pom.xml                  # общий multi-module Maven проект
└── checkstyle.xml, suppressions.xml, lombok.config
```

Типовая схема взаимодействия:
```
Client → [ewm-main-service] → (HTTP) → [stats]
                  ↑                         ↓
              OpenAPI spec             Агрегации/метрики
```

## 4) Стек и технологии
- Язык: **Java** (основная доля кода).
- Сборка: **Maven** (мультимодульный проект).
- Статическая проверка стиля: **Checkstyle**.
- Генерация/контракты API: **OpenAPI/Swagger** (JSON‑спеки в корне).
- Упаковка и локальный запуск: **Docker / Docker Compose**.
- Утилиты разработки: **Lombok** (наличие `lombok.config`).

## 5) Как запустить локально
1. Установите Docker и Docker Compose.
2. Клонируйте репозиторий и из корня выполните:
   ```bash
   docker compose up -d
   ```
3. После старта сервисов публичные/приватные/админ‑эндпоинты основного сервиса и эндпоинты статистики доступны согласно `ewm-main-service-spec.json` и `ewm-stats-service-spec.json`.
4. Для сборки из исходников:
   ```bash
   ./mvnw clean package
   ```
   (или `mvn clean package`, если установлен Maven)

## 6) Принятые решения
- Разделение «бизнес‑домена» и **статистики** на отдельные сервисы снижает связность и упрощает масштабирование.
- Описание API в **OpenAPI** облегчает автогенерацию клиентов/серверов и регрессионное тестирование.
- Единые правила стиля (**Checkstyle**) поддерживают читаемость и единое качество кода.
